# NATS Server Configuration
# Generated by Hive admin init

# Server configuration
{{ if .BindIP }}
listen: {{.BindIP}}:4222
{{ else }}
listen: 0.0.0.0:4222
{{ end }}


{{ if .ClusterBindIP }}
cluster {
  name: C1
  listen: {{.ClusterBindIP}}:4248

{{ if .ClusterRoutes }}
routes = [
{{- range .ClusterRoutes }}
  "nats://{{ . }}",
{{- end }}
]
{{ end }}
}
{{ end }}


server_name: hive-nats-{{.Node}}

# Authorization
authorization {
#  token: "{{.NatsToken}}"
}

# JetStream for persistent messaging
#jetstream {
#  store_dir: "{{.DataDir}}/nats/"
#  max_memory_store: 1GB
#  max_file_store: 10GB
#}

# Logging
debug: false
trace: false
logtime: true
log_file: "{{.DataDir}}/logs/nats.log"

# Limits
max_connections: 1000
max_payload: 1MB
max_pending: 64MB

# Monitoring
{{ if .BindIP }}
http: {{.BindIP}}:8222
{{ else }}
http_port: 8222
{{ end }}

