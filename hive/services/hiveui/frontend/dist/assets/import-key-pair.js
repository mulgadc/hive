import{c as R,u as T,j as t,i as z,B as w}from"./index.js";import{a as D,u as O,I as $}from"./zod.js";import{B as q}from"./back-link.js";import{E as G,L}from"./error-banner.js";import{P as J}from"./page-heading.js";import{T as U}from"./textarea.js";import{u as V}from"./ec2.js";import"./useMutation.js";function re(){const e=R.c(51),r=T(),s=V();let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g={resolver:D(z)},e[0]=g):g=e[0];const{handleSubmit:_,register:a,formState:H}=O(g),{errors:i,isSubmitting:M}=H;let N;e[1]!==s||e[2]!==r?(N=async Q=>{await s.mutateAsync(Q),r({to:"/ec2/describe-key-pairs"})},e[1]=s,e[2]=r,e[3]=N):N=e[3];const I=N;let A,K;e[4]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(q,{to:"/ec2/describe-key-pairs",children:"Back to key pairs"}),K=t.jsx(J,{title:"Import Key Pair"}),e[4]=A,e[5]=K):(A=e[4],K=e[5]);let l;e[6]!==s.error?(l=s.error&&t.jsx(G,{error:s.error,msg:"Failed to import key pair"}),e[6]=s.error,e[7]=l):l=e[7];let o;e[8]!==_||e[9]!==I?(o=_(I),e[8]=_,e[9]=I,e[10]=o):o=e[10];let P;e[11]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(L,{htmlFor:"keyName",children:"Key Pair Name"}),e[11]=P):P=e[11];let c;e[12]!==a?(c=a("keyName"),e[12]=a,e[13]=c):c=e[13];let m;e[14]!==c?(m=t.jsx($,{id:"keyName",placeholder:"my-key-pair…",...c}),e[14]=c,e[15]=m):m=e[15];let n;e[16]!==i.keyName?(n=i.keyName&&t.jsx("p",{className:"text-destructive text-xs",children:i.keyName.message}),e[16]=i.keyName,e[17]=n):n=e[17];let p;e[18]!==n||e[19]!==m?(p=t.jsxs("div",{className:"space-y-2",children:[P,m,n]}),e[18]=n,e[19]=m,e[20]=p):p=e[20];let S,v;e[21]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(L,{htmlFor:"publicKeyMaterial",children:"Public Key"}),v=t.jsx("p",{className:"text-muted-foreground text-xs",id:"publicKey-description",children:"Paste your OpenSSH public key (e.g. the contents of id_rsa.pub)"}),e[21]=S,e[22]=v):(S=e[21],v=e[22]);let y;e[23]!==a?(y=a("publicKeyMaterial"),e[23]=a,e[24]=y):y=e[24];let d;e[25]!==y?(d=t.jsx(U,{id:"publicKeyMaterial",placeholder:"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC…",rows:8,...y}),e[25]=y,e[26]=d):d=e[26];let f;e[27]!==i.publicKeyMaterial?(f=i.publicKeyMaterial&&t.jsx("p",{className:"text-destructive text-sm",children:i.publicKeyMaterial.message}),e[27]=i.publicKeyMaterial,e[28]=f):f=e[28];let u;e[29]!==d||e[30]!==f?(u=t.jsxs("div",{className:"space-y-2",children:[S,v,d,f]}),e[29]=d,e[30]=f,e[31]=u):u=e[31];const E=M||s.isPending;let x;e[32]!==r?(x=()=>r({to:"/ec2/describe-key-pairs"}),e[32]=r,e[33]=x):x=e[33];let b;e[34]!==E||e[35]!==x?(b=t.jsx(w,{disabled:E,onClick:x,type:"button",variant:"outline",children:"Cancel"}),e[34]=E,e[35]=x,e[36]=b):b=e[36];const F=M||s.isPending,C=M||s.isPending?"Importing…":"Import Key Pair";let h;e[37]!==F||e[38]!==C?(h=t.jsx(w,{disabled:F,type:"submit",children:C}),e[37]=F,e[38]=C,e[39]=h):h=e[39];let j;e[40]!==b||e[41]!==h?(j=t.jsxs("div",{className:"flex gap-2",children:[b,h]}),e[40]=b,e[41]=h,e[42]=j):j=e[42];let k;e[43]!==p||e[44]!==u||e[45]!==j||e[46]!==o?(k=t.jsxs("form",{className:"max-w-4xl space-y-6",onSubmit:o,children:[p,u,j]}),e[43]=p,e[44]=u,e[45]=j,e[46]=o,e[47]=k):k=e[47];let B;return e[48]!==k||e[49]!==l?(B=t.jsxs(t.Fragment,{children:[A,K,l,k]}),e[48]=k,e[49]=l,e[50]=B):B=e[50],B}export{re as component};
