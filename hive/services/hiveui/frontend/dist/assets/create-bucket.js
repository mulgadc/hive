import{c as R,u as A,j as t,f as H,B as P}from"./index.js";import{a as L,u as M,I as T,F as $,b as q,c as z}from"./field.js";import{B as D}from"./back-link.js";import{E as G}from"./error-banner.js";import{P as J}from"./page-heading.js";import{u as K}from"./s3.js";function Y(){const e=R.c(40),r=A(),s=K();let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x={resolver:L(H)},e[0]=x):x=e[0];const{handleSubmit:N,register:y,formState:w}=M(x),{errors:k,isSubmitting:S}=w;let p;e[1]!==s||e[2]!==r?(p=async I=>{await s.mutateAsync(I),r({to:"/s3/ls"})},e[1]=s,e[2]=r,e[3]=p):p=e[3];const F=p;let h,j;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(D,{to:"/s3/ls",children:"Back to buckets"}),j=t.jsx(J,{title:"Create Bucket"}),e[4]=h,e[5]=j):(h=e[4],j=e[5]);let i;e[6]!==s.error?(i=s.error&&t.jsx(G,{error:s.error,msg:"Failed to create bucket"}),e[6]=s.error,e[7]=i):i=e[7];let l;e[8]!==N||e[9]!==F?(l=N(F),e[8]=N,e[9]=F,e[10]=l):l=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx(q,{children:t.jsx("label",{htmlFor:"bucketName",children:"Bucket Name"})}),e[11]=g):g=e[11];const C=!!k.bucketName;let a;e[12]!==y?(a=y("bucketName"),e[12]=y,e[13]=a):a=e[13];let o;e[14]!==C||e[15]!==a?(o=t.jsx(T,{"aria-invalid":C,id:"bucketName",placeholder:"my-bucket",type:"text",...a}),e[14]=C,e[15]=a,e[16]=o):o=e[16];let c;e[17]!==k.bucketName?(c=t.jsx($,{errors:[k.bucketName]}),e[17]=k.bucketName,e[18]=c):c=e[18];let n;e[19]!==o||e[20]!==c?(n=t.jsxs(z,{children:[g,o,c]}),e[19]=o,e[20]=c,e[21]=n):n=e[21];const v=S||s.isPending;let m;e[22]!==r?(m=()=>r({to:"/s3/ls"}),e[22]=r,e[23]=m):m=e[23];let u;e[24]!==v||e[25]!==m?(u=t.jsx(P,{disabled:v,onClick:m,type:"button",variant:"outline",children:"Cancel"}),e[24]=v,e[25]=m,e[26]=u):u=e[26];const _=S||s.isPending,E=S||s.isPending?"Creatingâ€¦":"Create Bucket";let f;e[27]!==_||e[28]!==E?(f=t.jsx(P,{disabled:_,type:"submit",children:E}),e[27]=_,e[28]=E,e[29]=f):f=e[29];let d;e[30]!==u||e[31]!==f?(d=t.jsxs("div",{className:"flex gap-2",children:[u,f]}),e[30]=u,e[31]=f,e[32]=d):d=e[32];let b;e[33]!==n||e[34]!==d||e[35]!==l?(b=t.jsxs("form",{className:"max-w-4xl space-y-6",onSubmit:l,children:[n,d]}),e[33]=n,e[34]=d,e[35]=l,e[36]=b):b=e[36];let B;return e[37]!==b||e[38]!==i?(B=t.jsxs(t.Fragment,{children:[h,j,i,b]}),e[37]=b,e[38]=i,e[39]=B):B=e[39],B}export{Y as component};
