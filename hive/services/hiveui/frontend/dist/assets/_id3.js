import{c as Q,bD as L,u as M,r as V,bB as $,j as t,bE as q,B as G}from"./index.js";import{u as J}from"./useSuspenseQuery.js";import{B as z}from"./back-link.js";import{D as j,a as K}from"./detail-row.js";import{E as U}from"./error-banner.js";import{P as W}from"./page-heading.js";import{b as X,c as Y,d as Z,h as ee,a as te,e as se,f as ae,g as ie}from"./alert-dialog.js";import{f as le}from"./ec2.js";import{T as re}from"./trash-2.js";function ge(){const e=Q.c(57),{id:i}=L.useParams(),B=M();let D;e[0]!==i?(D=q(i),e[0]=i,e[1]=D):D=e[1];const{data:O}=J(D),s=O.KeyPairs?.[0],a=le(),[F,R]=V.useState(!1);let b;e[2]!==a||e[3]!==i||e[4]!==B?(b=async()=>{await a.mutateAsync(i),B({to:"/ec2/describe-key-pairs"})},e[2]=a,e[3]=i,e[4]=B,e[5]=b):b=e[5];const w=b;if(!s?.KeyPairId){let S;return e[6]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsxs(t.Fragment,{children:[t.jsx(z,{to:"/ec2/describe-key-pairs",children:"Back to key pairs"}),t.jsx("p",{className:"text-muted-foreground",children:"Key pair not found."})]}),e[6]=S):S=e[6],S}let P;e[7]!==s.CreateTime?(P=$(s.CreateTime),e[7]=s.CreateTime,e[8]=P):P=e[8];const E=P;let T;e[9]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(z,{to:"/ec2/describe-key-pairs",children:"Back to key pairs"}),e[9]=T):T=e[9];let l;e[10]!==a.error?(l=a.error&&t.jsx(U,{error:a.error,msg:"Failed to delete key pair"}),e[10]=a.error,e[11]=l):l=e[11];let k;e[12]===Symbol.for("react.memo_cache_sentinel")?(k=()=>R(!0),e[12]=k):k=e[12];let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsxs(G,{onClick:k,size:"sm",variant:"destructive",children:[t.jsx(re,{className:"size-4"}),"Delete"]}),e[13]=_):_=e[13];const I=s.KeyName??"";let r;e[14]!==I?(r=t.jsx(W,{actions:_,subtitle:"EC2 Key Pair Details",title:I}),e[14]=I,e[15]=r):r=e[15];let C;e[16]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(j.Header,{children:"Key Pair Information"}),e[16]=C):C=e[16];let n;e[17]!==s.KeyName?(n=t.jsx(K,{label:"Key Name",value:s.KeyName}),e[17]=s.KeyName,e[18]=n):n=e[18];let o;e[19]!==s.KeyPairId?(o=t.jsx(K,{label:"Key Pair ID",value:s.KeyPairId}),e[19]=s.KeyPairId,e[20]=o):o=e[20];let c;e[21]!==s.KeyType?(c=t.jsx(K,{label:"Key Type",value:s.KeyType}),e[21]=s.KeyType,e[22]=c):c=e[22];let m;e[23]!==s.KeyFingerprint?(m=t.jsx(K,{label:"Key Fingerprint",value:s.KeyFingerprint}),e[23]=s.KeyFingerprint,e[24]=m):m=e[24];let y;e[25]!==E?(y=t.jsx(K,{label:"Creation Date",value:E}),e[25]=E,e[26]=y):y=e[26];let d;e[27]!==n||e[28]!==o||e[29]!==c||e[30]!==m||e[31]!==y?(d=t.jsxs(j,{children:[C,t.jsxs(j.Content,{children:[n,o,c,m,y]})]}),e[27]=n,e[28]=o,e[29]=c,e[30]=m,e[31]=y,e[32]=d):d=e[32];let f;e[33]!==s.Tags?(f=s.Tags&&s.Tags.length>0&&t.jsxs(j,{children:[t.jsx(j.Header,{children:"Tags"}),t.jsx(j.Content,{children:s.Tags.map(ne)})]}),e[33]=s.Tags,e[34]=f):f=e[34];let p;e[35]!==d||e[36]!==f||e[37]!==r?(p=t.jsxs("div",{className:"space-y-6",children:[r,d,f]}),e[35]=d,e[36]=f,e[37]=r,e[38]=p):p=e[38];let A;e[39]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(te,{children:"Delete Key Pair"}),e[39]=A):A=e[39];let h;e[40]!==s.KeyName?(h=t.jsxs(X,{children:[A,t.jsxs(Y,{children:['Are you sure you want to delete the key pair "',s.KeyName,'"? This action cannot be undone. Any instances using this key pair will no longer be able to be accessed with it.']})]}),e[40]=s.KeyName,e[41]=h):h=e[41];let N;e[42]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx(se,{children:"Cancel"}),e[42]=N):N=e[42];const H=a.isPending?"Deletingâ€¦":"Delete";let u;e[43]!==a.isPending||e[44]!==w||e[45]!==H?(u=t.jsxs(Z,{children:[N,t.jsx(ee,{disabled:a.isPending,onClick:w,children:H})]}),e[43]=a.isPending,e[44]=w,e[45]=H,e[46]=u):u=e[46];let g;e[47]!==h||e[48]!==u?(g=t.jsxs(ae,{children:[h,u]}),e[47]=h,e[48]=u,e[49]=g):g=e[49];let x;e[50]!==F||e[51]!==g?(x=t.jsx(ie,{onOpenChange:R,open:F,children:g}),e[50]=F,e[51]=g,e[52]=x):x=e[52];let v;return e[53]!==p||e[54]!==x||e[55]!==l?(v=t.jsxs(t.Fragment,{children:[T,l,p,x]}),e[53]=p,e[54]=x,e[55]=l,e[56]=v):v=e[56],v}function ne(e){return t.jsx(K,{label:e.Key||"",value:e.Value},e.Key)}export{ge as component};
