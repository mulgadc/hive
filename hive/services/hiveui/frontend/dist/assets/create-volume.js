import{c as $,u as q,g as D,j as t,B as I}from"./index.js";import{a as J,u as K,I as R,F as G,b as H,c as L}from"./field.js";import{B as O}from"./back-link.js";import{E as Q}from"./error-banner.js";import{P as U}from"./page-heading.js";import{u as W}from"./ec2.js";function se(){const e=$.c(52),s=q(),i=W();let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g={resolver:J(D),defaultValues:{size:1,availabilityZone:""}},e[0]=g):g=e[0];const{handleSubmit:C,register:a,formState:M}=K(g),{errors:l,isSubmitting:V}=M;let S;e[1]!==i||e[2]!==s?(S=async T=>{await i.mutateAsync(T),s({to:"/ec2/describe-volumes"})},e[1]=i,e[2]=s,e[3]=S):S=e[3];const E=S;let z,F;e[4]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx(O,{to:"/ec2/describe-volumes",children:"Back to volumes"}),F=t.jsx(U,{title:"Create Volume"}),e[4]=z,e[5]=F):(z=e[4],F=e[5]);let r;e[6]!==i.error?(r=i.error&&t.jsx(Q,{error:i.error,msg:"Failed to create volume"}),e[6]=i.error,e[7]=r):r=e[7];let o;e[8]!==C||e[9]!==E?(o=C(E),e[8]=C,e[9]=E,e[10]=o):o=e[10];let Z;e[11]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(H,{children:t.jsx("label",{htmlFor:"size",children:"Size (GiB)"})}),e[11]=Z):Z=e[11];const P=!!l.size;let n;e[12]!==a?(n=a("size",{valueAsNumber:!0}),e[12]=a,e[13]=n):n=e[13];let c;e[14]!==P||e[15]!==n?(c=t.jsx(R,{"aria-invalid":P,id:"size",max:16384,min:1,type:"number",...n}),e[14]=P,e[15]=n,e[16]=c):c=e[16];let m;e[17]!==l.size?(m=t.jsx(G,{errors:[l.size]}),e[17]=l.size,e[18]=m):m=e[18];let u;e[19]!==c||e[20]!==m?(u=t.jsxs(L,{children:[Z,c,m]}),e[19]=c,e[20]=m,e[21]=u):u=e[21];let _;e[22]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(H,{children:t.jsx("label",{htmlFor:"availabilityZone",children:"Availability Zone"})}),e[22]=_):_=e[22];const k=!!l.availabilityZone;let f;e[23]!==a?(f=a("availabilityZone"),e[23]=a,e[24]=f):f=e[24];let d;e[25]!==k||e[26]!==f?(d=t.jsx(R,{"aria-invalid":k,id:"availabilityZone",placeholder:"ap-southeast-2a",type:"text",...f}),e[25]=k,e[26]=f,e[27]=d):d=e[27];let b;e[28]!==l.availabilityZone?(b=t.jsx(G,{errors:[l.availabilityZone]}),e[28]=l.availabilityZone,e[29]=b):b=e[29];let x;e[30]!==d||e[31]!==b?(x=t.jsxs(L,{children:[_,d,b]}),e[30]=d,e[31]=b,e[32]=x):x=e[32];const N=V||i.isPending;let h;e[33]!==s?(h=()=>s({to:"/ec2/describe-volumes"}),e[33]=s,e[34]=h):h=e[34];let v;e[35]!==N||e[36]!==h?(v=t.jsx(I,{disabled:N,onClick:h,type:"button",variant:"outline",children:"Cancel"}),e[35]=N,e[36]=h,e[37]=v):v=e[37];const A=V||i.isPending,w=V||i.isPending?"Creatingâ€¦":"Create Volume";let j;e[38]!==A||e[39]!==w?(j=t.jsx(I,{disabled:A,type:"submit",children:w}),e[38]=A,e[39]=w,e[40]=j):j=e[40];let p;e[41]!==v||e[42]!==j?(p=t.jsxs("div",{className:"flex gap-2",children:[v,j]}),e[41]=v,e[42]=j,e[43]=p):p=e[43];let y;e[44]!==u||e[45]!==x||e[46]!==p||e[47]!==o?(y=t.jsxs("form",{className:"max-w-4xl space-y-6",onSubmit:o,children:[u,x,p]}),e[44]=u,e[45]=x,e[46]=p,e[47]=o,e[48]=y):y=e[48];let B;return e[49]!==y||e[50]!==r?(B=t.jsxs(t.Fragment,{children:[z,F,r,y]}),e[49]=y,e[50]=r,e[51]=B):B=e[51],B}export{se as component};
