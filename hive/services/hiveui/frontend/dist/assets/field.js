import{r as p,bP as m,bb as E,aV as y,bQ as w,bg as C,b0 as V,a_ as b,bR as M,bJ as S,c as h,j as v,a as I,bS as k}from"./index.js";let R=(function(t){return t.disabled="data-disabled",t.valid="data-valid",t.invalid="data-invalid",t.touched="data-touched",t.dirty="data-dirty",t.filled="data-filled",t.focused="data-focused",t})({});const N={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:null,valueMissing:!1},J={valid(t){return t===null?null:t?{[R.valid]:""}:{[R.invalid]:""}}},F=p.createContext({invalid:void 0,name:void 0,validityData:{state:N,errors:[],error:"",value:"",initialValue:null},setValidityData:m,disabled:void 0,touched:!1,setTouched:m,dirty:!1,setDirty:m,filled:!1,setFilled:m,focused:!1,setFocused:m,validate:()=>null,validationMode:"onSubmit",validationDebounceTime:0,shouldValidateOnChange:()=>!1,state:{disabled:!1,valid:null,touched:!1,dirty:!1,filled:!1,focused:!1},markedDirtyRef:{current:!1},validation:{getValidationProps:(t=y)=>t,getInputValidationProps:(t=y)=>t,inputRef:{current:null},commit:async()=>{}}});function T(t=!0){const e=p.useContext(F);if(e.setValidityData===m&&!t)throw new Error(E(28));return e}const j=p.createContext({formRef:{current:{fields:new Map}},errors:{},clearErrors:m,validationMode:"onSubmit",submitAttemptedRef:{current:!1}});function L(){return p.useContext(j)}const D=p.createContext({controlId:void 0,registerControlId:m,labelId:void 0,setLabelId:m,messageIds:[],setMessageIds:m,getDescriptionProps:t=>t});function P(){return p.useContext(D)}function O(t,e){return{...t,state:{...t.state,valid:!e&&t.state.valid}}}function Y({controlled:t,default:e,name:a,state:l="value"}){const{current:s}=p.useRef(t!==void 0),[n,i]=p.useState(e),o=s?t:n,d=p.useCallback(f=>{s||i(f)},[]);return[o,d]}function q(t={}){const{id:e,implicit:a=!1,controlRef:l}=t,{controlId:s,registerControlId:n}=P(),i=w(e),o=a?s:void 0,d=C(()=>Symbol("labelable-control")),f=p.useRef(!1),c=p.useRef(e!=null),u=V(()=>{!f.current||n===m||(f.current=!1,n(d.current,void 0))});return b(()=>{if(n===m)return;let r;if(a){const x=l?.current;M(x)&&x.closest("label")!=null?r=e??null:r=o??i}else if(e!=null)c.current=!0,r=e;else if(c.current)r=i;else{u();return}if(r===void 0){u();return}f.current=!0,n(d.current,r)},[e,l,o,n,a,i,d,u]),p.useEffect(()=>u,[u]),s??i}function z(t){const{enabled:e=!0,value:a,id:l,name:s,controlRef:n,commit:i}=t,{formRef:o}=L(),{invalid:d,markedDirtyRef:f,validityData:c,setValidityData:u}=T(),r=V(t.getValue);b(()=>{if(!e)return;let x=a;x===void 0&&(x=r()),c.initialValue===null&&x!==null&&u(g=>({...g,initialValue:x}))},[e,u,a,c.initialValue,r]),b(()=>{!e||!l||o.current.fields.set(l,{getValue:r,name:s,controlRef:n,validityData:O(c,d),validate(x=!0){let g=a;g===void 0&&(g=r()),f.current=!0,x?S.flushSync(()=>i(g)):i(g)}})},[i,n,e,o,r,l,d,f,s,c,a]),b(()=>{const x=o.current.fields;return()=>{l&&x.delete(l)}},[o,l])}function G(t){const e=h.c(8);let a,l;e[0]!==t?({className:a,...l}=t,e[0]=t,e[1]=a,e[2]=l):(a=e[1],l=e[2]);let s;e[3]!==a?(s=I("group/field-group @container/field-group flex w-full flex-col gap-4 data-[slot=checkbox-group]:gap-3 *:data-[slot=field-group]:gap-4",a),e[3]=a,e[4]=s):s=e[4];let n;return e[5]!==l||e[6]!==s?(n=v.jsx("div",{className:s,"data-slot":"field-group",...l}),e[5]=l,e[6]=s,e[7]=n):n=e[7],n}const U=k("group/field flex w-full gap-2 data-[invalid=true]:text-destructive",{variants:{orientation:{vertical:"flex-col [&>*]:w-full [&>.sr-only]:w-auto",horizontal:"flex-row items-center has-[>[data-slot=field-content]]:items-start [&>[data-slot=field-label]]:flex-auto has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px",responsive:"@md/field-group:flex-row flex-col @md/field-group:items-center @md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:[&>*]:w-auto [&>*]:w-full [&>.sr-only]:w-auto @md/field-group:[&>[data-slot=field-label]]:flex-auto @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px"}},defaultVariants:{orientation:"vertical"}});function Q(t){const e=h.c(11);let a,l,s;e[0]!==t?({className:a,orientation:s,...l}=t,e[0]=t,e[1]=a,e[2]=l,e[3]=s):(a=e[1],l=e[2],s=e[3]);const n=s===void 0?"vertical":s;let i;e[4]!==a||e[5]!==n?(i=I(U({orientation:n}),a),e[4]=a,e[5]=n,e[6]=i):i=e[6];let o;return e[7]!==n||e[8]!==l||e[9]!==i?(o=v.jsx("div",{className:i,"data-orientation":n,"data-slot":"field",role:"group",...l}),e[7]=n,e[8]=l,e[9]=i,e[10]=o):o=e[10],o}function W(t){const e=h.c(8);let a,l;e[0]!==t?({className:a,...l}=t,e[0]=t,e[1]=a,e[2]=l):(a=e[1],l=e[2]);let s;e[3]!==a?(s=I("flex w-fit items-center gap-2 font-medium text-xs/relaxed leading-snug group-data-[disabled=true]/field:opacity-50",a),e[3]=a,e[4]=s):s=e[4];let n;return e[5]!==l||e[6]!==s?(n=v.jsx("div",{className:s,"data-slot":"field-label",...l}),e[5]=l,e[6]=s,e[7]=n):n=e[7],n}function H(t){const e=h.c(15);let a,l,s,n;e[0]!==t?({className:l,children:a,errors:s,...n}=t,e[0]=t,e[1]=a,e[2]=l,e[3]=s,e[4]=n):(a=e[1],l=e[2],s=e[3],n=e[4]);let i;e:{if(a){i=a;break e}if(!s?.length){i=null;break e}let c;e[5]!==s?(c=[...new Map(s.map($)).values()],e[5]=s,e[6]=c):c=e[6];const u=c;if(u?.length===1){i=u[0]?.message;break e}let r;e[7]!==u?(r=v.jsx("ul",{className:"ml-4 flex list-disc flex-col gap-1",children:u.map(_)}),e[7]=u,e[8]=r):r=e[8],i=r}const o=i;if(!o)return null;let d;e[9]!==l?(d=I("font-normal text-destructive text-xs/relaxed",l),e[9]=l,e[10]=d):d=e[10];let f;return e[11]!==o||e[12]!==n||e[13]!==d?(f=v.jsx("div",{className:d,"data-slot":"field-error",role:"alert",...n,children:o}),e[11]=o,e[12]=n,e[13]=d,e[14]=f):f=e[14],f}function _(t){return t?.message&&v.jsx("li",{children:t.message},t.message)}function $(t){return[t?.message,t]}export{H as F,W as a,Q as b,G as c,T as d,q as e,Y as f,z as g,P as h,J as i,L as u};
